REPO=$HOME/repo
export REPO

OFFICIAL_PLUS_DATE=1
export OFFICIAL_PLUS_DATE

parse_git_branch() {
        git branch 2>/dev/null | sed -n 's/^\* \(.*\)/\1/p'
}

export PKG_SUFFIX=parse_git_branch

alias code="cd /mnt/c/Users/Ben/Code"

getVersion() {
        scp bmoore@maven.sc.steeleye.com:/var/lib/jenkins/jobs/cloud-orchestrator-service/workspace/pkg/version ~/buildver/version
}
export GETVER=getVersion

getLogs() {
        target=$1
        shift
        scp -i ~/cldo-sioss-rsa-4096 root@"$target":/var/lib/tomcat7/logs/catalina.out /mnt/c/Users/Ben/Documents/catalina.out
}

build() {
        scp bmoore@ci:/var/lib/jenkins/jobs/cloud-orchestrator-service/workspace/pkg/version /var/lib/jenkins/jobs/cloud-orchestrator-service/workspace$
        mvn clean install -DskipTests=true && cd pkg && make && cd ..
}

pushBuild() {
        target=$1
        shift
        if [ -z "$target" ]
        then
                echo "Please supply target machine"
                return
        fi
        echo "Building and deploying to $target"
        build
        if [ $? -eq 0 ]
        then
                ssh -i ~/cldo-sioss-rsa-4096 root@"$target" 'apt-get update && apt-get install --force-yes -y cloud-orc$        fi
}